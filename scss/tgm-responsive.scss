// variable for breakpoints
$smaller-width:  680px;    // -phones
$small-width:    780px;    // -big phones, small tablets
$med-width:      980px;    // -portrait tablets
$big-width:      1120px;   // -landscape tablets, smaller screens
$bigger-width:   $big-width + 1px;   // -big screens (default, used as min-width)

$med-screen-margin: 20px;
$sml-screen-margin: 10px;

@mixin responsive-bg($img-name) {
  $img-base: "/images/#{$img-name}-size";
  // default to the largest image
  background-image: url("#{$img-base}5.jpg");
  //    @media only screen and (min-width: $bigger-width)  { background-image: url("${img-base}5.jpg"); }
  @media only screen and (max-width: $big-width)     { background-image: url("#{$img-base}4.jpg"); }
  @media only screen and (max-width: $med-width)     { background-image: url("#{$img-base}3.jpg"); }
  @media only screen and (max-width: $small-width)   { background-image: url("#{$img-base}2.jpg"); }
  @media only screen and (max-width: $smaller-width) { background-image: url("#{$img-base}1.jpg"); }
}

@mixin responsive-bg-in-article($img-name) {
  $img-base: "/images/#{$img-name}-size";
  // default to the largest image
  background-image: url("#{$img-base}4.jpg");
  @media only screen and (max-width: $med-width)     { background-image: url("#{$img-base}3.jpg"); }
  @media only screen and (max-width: $small-width)   { background-image: url("#{$img-base}2.jpg"); }
  @media only screen and (max-width: $smaller-width) { background-image: url("#{$img-base}1.jpg"); }
}

// iPad Landscape & smaller screens
@media only screen and (max-width: $big-width) {
	.article-header {
		.header {
			letter-spacing: 0.4em;
			padding-bottom: 0;
		}
	}

	.article-nav-container .nav-extra,
	.article-nav .article-nav-title  {
		font-size: 1.2em;
	}

	article {
	  &.introduction {
	    .article-header {
	      .header {
			top: 37%;
	      }
	  	}
	  }
	}

	.content {
		padding-top: 0;
		.pull-quote.pull-left 	{ margin-left: $med-screen-margin; }
		.pull-quote.pull-right  { margin-right: $med-screen-margin; }
		.pull-quote.large-image { max-width: 94%; }
		.pull-quote.text 		{ max-width: 94%; }
	}
	.next-chapter { 
		max-width: 94%; 
		margin: 0 auto;
	}
}

// Portrait tablets
@media only screen and (max-width: $med-width) {
	.article-nav-container {
		.overlay-coming-soon {
			top: 50%;
			height: 50%;
		}
		.coming-soon-date {
			font-size: 1em;
			font-weight: bold;
		}
	}

	.article-header .image {
		height: 45vh;
	}

	.content {
		.pull-quote.text p { 
			font-size: 1.4em; 
			br { display: none; }
		}
	}

}

// Big phones, small tablets
@media only screen and (max-width: $small-width) {

	.special-feature-misc {
		display: none;
	}

	.article-title-container {
		margin: 5px $med-screen-margin 0 0;
		float: right;
		width: auto;
	}

	.article-nav-container {
		&.fixed {
			height: auto;
			padding: 10px 0;
		}
		&.footer {
			padding: 0 0 3em 0;
		}

		.nav-extra, .nav {
			width: 100%;
			float: none;
			height: auto;
			/* .clearfix; */
		}

		.about-the-series {
			.title {
				text-align: center;
			}
		}

		.nav {
			margin-bottom: 1em;
			li {
				a {
					border-right-style: solid;					
				}
				&:first-child a { border-left-width: 0; } 
				&:last-child a { border-right-width: 0; } 
			}			
		}

		.appendix {
			li {
				float: left;
				padding: 0;
				margin-right: 10px;
				margin-bottom: 0;
				padding-right: 10px;
				border-right: 1px solid $accent-color-trsp;
				&:first-child {
					border-right: none;
					padding-right: 0;
					margin-right: 0;
				};
				&:last-child {
					border-right: none;
					padding-right: 0;
					margin-right: 0;
				};
			}

			.title {
				display: inline;
				&:after {
					content: ': ';
				};
			}
		}
	} 

	.article-header {
		padding: $med-screen-margin;
		
		.header {
			margin-top: 0;
			margin-bottom: .5em;
		}

		.byline {
			/* font-size: .8em; */
		}

		.author {
			padding: 1em 0;
			margin: 0;
			font-size: .7em;
			&:before { display: none; }
		}
	}


	.content {
		/* .font-size(16);*/
		.pull-quote.text p { 
			font-size: 1.4em; 
			padding: 1em 0;
		}
		.pull-quote.text,
		.pull-quote.pull-left,
		.pull-quote.pull-right,
		.pull-quote.large-image {
			max-width: none;
			float: none;
			margin-left: $med-screen-margin;
			margin-right: $med-screen-margin;
			margin-bottom: 1em;
		}
		.pull-quote .paragraph-container {
			& p, & .caption {
				font-size: 0.8em;
				margin: 0.5em 0.7em;
			}
		}

		p {
			/*.font-size(16); */
			margin-bottom: 0.75em;
		}
	}
	.next-chapter { 
			max-width: none;
			float: none;
			margin-left: $med-screen-margin;
			margin-right: $med-screen-margin;
	}

	.timeline {

		.vco-notouch .vco-slider,
		.vco-slider {

			.vco-navigation {
				.flag-content {
					.thumbnail {
						display: none;
					}
				}
			}

			.slider-item .content .content-container .text { 
				width:100% !important;
				max-width:100% !important;
				min-width:100% !important;
				display: block !important;
			}
			.slider-item {
				width: 90% !important;
				margin-left: 5%;
			}
			.slider-item .content .content-container {
				display: block !important; 
				width: 96% !important; 
				margin-left: -120px;
			}
			.text .container {
				width: 100% !important;
			}
			.media, 
			.media-wrapper,
			.media-container,
			.media-shadow {
				display: none !important
			}

			.nav-next, .nav-previous {
				width: 5% !important;
				.nav-container {
					width: auto;
				}
				.date, .title { display: none;}
				.icon {
					margin: 0;
				}
				&:hover {
					.icon {
						margin: 0;
					}					
				};
			}

			.nav-next {
				left: auto !important;
				right: 0 !important;
			}
		}

	}

}

// Phones
@media only screen and (max-width: $smaller-width) {
	.article-title-container {
		.article-title {
			display: none;
		}
	}

}
